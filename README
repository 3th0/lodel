* modif pour ajouter les styles recensions, erratum, ndlr, droitsauteur, surtitre: lodel/revue/lodel/edition/balises.php
Pour le moment, tous ces styles sont accessibles dans documents.php uniquement. Il faut me dire ce qu'il faut en faire exactement (surtout les recensions... a mettre dans la base ?).
Il faut aussi me dire lesquels on affiche (ou on affiche pas) quand le texte n'est pas publie ! c'est important de securiser dans le php, sauf si vous souhaitez que chaque revue decide... dans ce cas, toutes les revues assumes le choix d'afficher ou pas un erratum, un ndlr, etc quand le texte n'est pas publie.

* Mettre a jour en consequence la DTD de lodel.

* Modif de extrainfo.php pour gerer aussi le surtitre

* ajouter dans tpl/extrainfo.html le bloc suivant pour les surtitres
<TR>
	<TD>Sur Titre:</TD>
	<TD><INPUT SIZE="80" TYPE="text" NAME="surtitre" value="[#SURTITRE]"></TD>
</TR>



* Il faut qu'on discute longuement des affiliations. Ca pose un gros probleme, il va falloir changer la base. En effet on ne peut pas mettre les affiliations dans la table auteurs parce qu'un auteur peut avoir plusieurs affiliaitons, et on ne peut pas la mettre dans la table documents, parce qu'un document a plusieurs affiliation (car plusieurs auteurs). Une solution est de ne pas mettre l'affiliation dans la base... elle n'est alors accessible que du document ou elle a ete definie. Une autre solution est de la mettre dans  documents_auteurs.
A decider: d'ou veut-on acceder aux affiliations ?


* dans les index (mots.php, periodes.php,etc...), la boucle "alphabet" permet de parcourir l'alphabet, [#LETTRE] permet contient la lettre en majuscule. C'est plus propre d'utiliser ca que de coder en dur les listes de lettres. Parfois, c'est meme obliogatoire (comme dans l'ancienne maquette de CH).

* lodel/script/baseindex.php a ete changer pour le code de boucle_alphabet


* (important pour les developpeurs) j'ai change le systeme pour les boucles utilisateur (celle ecrite en php mais accessible en lodelscript) afin de supprimer le probleme qu'on a sur topparent. Maintenant, la fonction qui definie la boucle prend deux arguments (exemple dans lodel/revue/lodel/edition/index.php) :

function boucle_themesparents (&$context,$funcname) {

et l'appel a la fonction "code" se fait par:

call_user_func("code_boucle_$funcname",$localcontext);

au lieu de code_boucle_themes_parents.

De meme on a call_user_func("code_avant_$funcname",$localcontext); et call_user_func("code_apres_$funcname",$localcontext); (meme signification que dans les boucles SQL normales).

* lodel/revue/lodel/edition/index.php a ete modifie pour changer le code de boucle_themesparents.

* lodel/scripts/parser.php modifie pour le probleme des boucles si dessus et pour le repertoire share/macros


Ghislain

