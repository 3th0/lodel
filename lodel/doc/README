
Gestion des revues:

Je propose que chaque revue soit un utilisateur UNIX.
Par exemple ch est utilisateur UNIX
Dans le repertoire home/ch, on mettra des repertoires tpl et images.
Ca permet d'eviter de donner le meme compte et mot de passe à toutes les revues pour faire des ftp par exemple. Ca permet aussi a chaque revue d'avoir un espace pour stocker des fichiers temporaires... Enfin, ca evite que les administrateurs de revues puissent modifier le contenu de lodel, en particulier les scripts.
On ne change rien a lodel, il suffit de faire des liens symboliques sur tpl et images.
A terme, il faudra aussi utiliser suexec (le module apache) pour eviter les repertoires en 777, et ainsi eviter qu'une revue efface les fichiers des autres revues.


A ce propos, meme en protegeant le systeme, les admin qui ont peuvent modifier les templates doivent etre des personnes de confiance, car il y a de nombreux trous de securite des lors qu'on accede aux templates. En particulier, il y a possibilite de destruction de la base, possibilite de passer en super admin.


Le systeme d'utilisateurs a ete change. Il y a les super admin dans une table, qui sont gerer par admin/users.php. En pratique le nombre de super administrateur doit rester faible, quelques unites.
Puis dans chaque revue, il y a une liste des utilisateurs qui est gerer par ch/lodel/admin/users.php.




Ghislain

