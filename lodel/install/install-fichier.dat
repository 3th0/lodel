# les droits doivent etre tres larges, ils sont ensuite reduits par le filemask


mkdir CACHE 0777
mkdir tpl 0755
mkdir css 0755
mkdir images 0755
mkdir docannexe 0777
mkdir docannexe/fichier 0777
mkdir docannexe/image 0777
mkdir lodel 0755
mkdir lodel/edition 0755
mkdir lodel/admin 0755

htaccess tpl
htaccess CACHE

# evite que l'internaute puisse lister ces repertoires
touch docannexe/index.html
touch docannexe/image/index.html
htaccess docannexe/fichier

###############################################################
######### repertoire site

dirdestination .
dirsource $homelodel

ln styles_lodel.css

dirsource $homesite

# lie tous les fichiers du repertoire
ln backend.php
ln entree.php
ln entrees.php
ln personne.php
ln personnes.php

ln document.php
ln docannexe.php
ln index.php
ln signaler.php
ln sommaire.php

### desuet. cp tpl

dirsource $homesite/lodel/admin
ln tpl/login.html
ln login.php
ln logout.php

dirsource $homesite/lodel/edition
ln tpl/desk.html

#

mkdir lodel 0755

mkdir lodel/sources 0777
htaccess lodel/sources

dirsource $homesite/lodel
dirdestination lodel

ln index.php

###############################################################
########### edition

mkdir lodel/edition 0755
mkdir lodel/edition/tpl 0755
mkdir lodel/edition/CACHE 0777

dirdestination lodel/edition

htaccess CACHE
htaccess tpl

dirsource . # repertoire du site
ln styles_lodel.css

# les logins
dirsource $homesite/lodel/admin
ln tpl/login.html
ln login.php
ln logout.php

# tous les fichier de src/lodel/edition
dirsource $homesite/lodel/edition
ln siteconfig.php
ln maj.php
ln images
ln css
ln tpl/macros.html
ln tpl/deskedition.html

# chaine d'importation
ln abandon.php
ln oochargement.php
ln tpl/oochargement.html
ln conversion.php
ln tpl/conversion.html
ln chargesommaire.php
ln tpl/chargesommaire.html
ln balisage.php
ln tpl/balisage.html
ln chkbalisage.php
ln tpl/chkbalisage.html
#ln extrainfo.php
#ln tpl/extrainfo.html
ln document.php
ln tpl/document.html
ln importsommaire.php
ln telecharger.php

# satellite des documents
ln docannexe.php
ln tpl/documentannexe-lienfichier.html
ln tpl/documentannexe-liendocument.html
ln tpl/documentannexe-lienpublication.html
ln tpl/documentannexe-lienexterne.html

ln metaimage.php
ln tpl/metaimage.html
ln deplacer.php
ln tpl/deplacer.html
ln publi.php
ln statut.php

# navigation dans la site

ln index.php
ln tpl/edition.html
ln tpl/edition-lineaire.html
ln tpl/edition-hierarchique.html
ln tpl/edition-numero.html
ln tpl/edition-rubrique.html

# creation et modification des publications
ln publication.php
ln tpl/publi_erreur.html
ln tpl/creation-serie.html
ln tpl/creation-rubrique.html
ln tpl/creation-numero.html
ln tpl/creation-regroupement.html
ln inverseordre.php

# suppression et fonctions avancees des documents et publications
ln supprime.php
ln tpl/supprime.html
ln tpl/supprime_erreur.html

ln fonctionsavancees.php
ln tpl/fonctionsavancees-document.html
ln tpl/fonctionsavancees-publication.html

# xml
ln xml.php
ln tpl/xml-classe.html
ln tpl/xml-valid.html

###############################################################
############# admin

mkdir lodel/admin 0755
mkdir lodel/admin/tpl 0755
mkdir lodel/admin/CACHE 0777

dirdestination lodel/admin

htaccess CACHE
htaccess tpl

dirsource . # repertoire du site
ln styles_lodel.css

dirsource $homesite/lodel/edition

# les logins
dirsource $homesite/lodel/admin
ln siteconfig.php
ln tpl/login.html
ln login.php
ln logout.php
#

ln tpl/macros.html
ln images
ln css

ln index.php
ln tpl/index.html
ln tpl/deskadmin.html

ln entree.php
ln tpl/entree.html
ln entrees.php
ln tpl/entrees.html

#ln personne.php
#ln tpl/personne.html
#ln personnes.php
#ln tpl/personnes.html

ln options.php
ln tpl/options.html
ln option.php
ln tpl/option.html

ln stats.php
ln texte.php
ln tpl/texte.html
ln tpl/texte-interface.html
ln textes.php
ln tpl/textes.html
ln translations.php
ln tpl/translations.html
ln translation.php
ln tpl/translation.html
ln translationgroup.php
ln tpl/translationgroup.html

ln champ.php
ln tpl/champ.html
ln champs.php
ln tpl/champs.html
ln groupedechamps.php
ln tpl/groupedechamps.html

ln typedoc.php
ln tpl/typedoc.html
ln typedocs.php
ln tpl/typedocs.html

ln typepubli.php
ln tpl/typepubli.html
ln typepublis.php
ln tpl/typepublis.html

ln typeentree.php
ln tpl/typeentree.html
ln typeentrees.php
ln tpl/typeentrees.html

ln typepersonne.php
ln tpl/typepersonne.html
ln typepersonnes.php
ln tpl/typepersonnes.html

ln backup.php
ln tpl/backup.html
ln import.php
ln tpl/import.html

ln user.php
ln tpl/user.html
ln users.php
ln tpl/users.html
ln usersettings.php

ln transfer.php
ln tpl/transfer.html

ln importmodel.php
ln tpl/importmodel.html
ln tpl/importmodel-frominstall.html
ln backupmodel.php
ln tpl/backupmodel.html

ln session.php
ln cleanxml.php

# xml schema
ln schema.php
ln tpl/schema-xsd.html
