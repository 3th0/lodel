<!--[

   LODEL - Logiciel d'Edition ELectronique.
   Copyright (c) 2001-2002, Ghislain Picard, Marin Dacos
   Copyright (c) 2003, Ghislain Picard, Marin Dacos, Luc Santeramo, Nicolas Nutten, Anne Gentil-Beccot
   Copyright (c) 2004, Ghislain Picard, Marin Dacos, Luc Santeramo, Anne Gentil-Beccot, Bruno Cénou
   Home page: http://www.lodel.org
   E-Mail: lodel@lodel.org
                             All Rights Reserved
      This program is free software; you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation; either version 2 of the License, or
      (at your option) any later version.
      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.
      You should have received a copy of the GNU General Public License
      along with this program; if not, write to the Free Software
      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.]-->


<!--[ New macros added by Ghislain 12/2004 ]-->


<!--[ --------------------------------------------------------- 
      TR with alternating class             
--------------------------------------------------------------- ]-->

<DEFMACRO NAME="TR_LIST">
<IF COND="[#COUNT] % 2">
<tr class="ligne_admin1">
<ELSE/>
<tr class="ligne_admin2">
</IF>
</DEFMACRO>


<!--[ --------------------------------------------------------- 
      Ok bouton to come back to index.php
--------------------------------------------------------------- ]-->

<DEFMACRO NAME="OK_TOINDEX">
<div class="pied_de_formulaire">
	<form>
		<input class="form" type="button" value="    OK    " onClick="javascript:window.location='index.php'">
	</form>
</div>
</DEFMACRO>


<!--[ --------------------------------------------------------- 
      Submit / Cancel / Delete bar.
--------------------------------------------------------------- ]-->

<DEFFUNC NAME="EDIT_SUBMIT_BAR">
<div class="pied_de_formulaire">
	<MACRO NAME="SUBMIT_CANCEL_BUTTON">
	  <IF COND="[#ID]">
		<IF COND="![#TABLE|isdeletelocked([#ID],[#STATUS])]">
			<MACRO NAME="DELETE_BUTTON">
		</IF>
	  </IF>
</div>
</DEFFUNC>

<!--[ --------------------------------------------------------- 
      Ok bouton to submit andgo from edit to list action
--------------------------------------------------------------- ]-->
<DEFMACRO NAME="SUBMIT_CANCEL_BUTTON">
		<IF COND="[#ID]"><input class="form" type="submit" value="[@COMMON.MODIFY]" /><ELSE/><input class="form" type="submit" value="[@COMMON.ADD]" /></IF>
		&nbsp;&nbsp;&nbsp;&nbsp;
		<input class="form" type="button" value="[@COMMON.CANCEL]" onClick="javascript:window.history.go(-1)" />&nbsp;&nbsp;&nbsp;&nbsp;
</DEFMACRO>

<DEFMACRO NAME="DELETE_BUTTON">
		<input class="form" type="button" value="[@COMMON.DELETE]" onClick="javascript:window.location='index.php?do=delete&id=[#ID]&table=[#TABLE]'" />
</DEFMACRO>


<!--[ -----------------------------------------------------------
      Arrow up/down to change order
--------------------------------------------------------------- ]-->

<DEFFUNC NAME="CHANGE_RANK_BUTTON" REQUIRED="TABLE">
<a href="index.php?do=changerank&id=[#ID]&table=[#TABLE]&dir=down"><img src="[#SHAREURL]/images/fleche_bas.png" class="picto" width="11" height="8" alt="bas" onmouseover="src='[#SHAREURL]/images/fleche_bas_survol.png'" onmouseout="src='[#SHAREURL]/images/fleche_bas.png'" /></a>
<a href="index.php?do=changerank&id=[#ID]&table=[#TABLE]&dir=up"><img src="[#SHAREURL]/images/fleche_haut.png" class="picto" width="11" height="8" alt="haut" onmouseover="src='[#SHAREURL]/images/fleche_haut_survol.png'" onmouseout="src='[#SHAREURL]/images/fleche_haut.png'" /></a>
</DEFFUNC>



<!--[ -----------------------------------------------------------
      Modify and delete button
--------------------------------------------------------------- ]-->

<DEFFUNC NAME="MODIFY_DELETE_BUTTON" REQUIRED="TABLE">
<IF COND="([#USERRIGHTS] gt [#TABLE|rights('write')] and [#STATUS] lt 32) or ([#USERRIGHTS] gt [#TABLE|rights('protect')])">
         |&nbsp;<a href="index.php?do=view&id=[#ID]&table=[#TABLE]">[@COMMON.MODIFY]</a>&nbsp;|&nbsp;
	<IF COND="[#STATUS] ge 32">
	  <span class="inactif">[@COMMON.DELETE] ([@COMMON.PROTECTED])</span>&nbsp;|&nbsp;
       <ELSE/>
	  <IF COND="[#TABLE|isdeletelocked([#ID],[#STATUS])]">
	  <span class="inactif">[@COMMON.DELETE] ([#TABLE|isdeletelocked([#ID],[#STATUS])])</span>&nbsp;|&nbsp;
	  <ELSE/>
	  <a href="index.php?do=delete&id=[#ID]&table=[#TABLE]">[@COMMON.DELETE]</a>&nbsp;|&nbsp;
	  </IF>
	</IF>
<ELSE/>
	 |&nbsp;<span class="inactif">[@COMMON.MODIFY]</span>&nbsp;|&nbsp;
	  <span class="inactif">[@COMMON.DELETE]</span>&nbsp;|&nbsp;
</IF>
</DEFFUNC>


<!--[ -----------------------------------------------------------
      Print error message given the error code
--------------------------------------------------------------- ]-->

<DEFFUNC NAME="PRINT_ERROR_MESSAGE">
	<IF COND="[#ERROR] eq '+'">[@COMMON.ERROR_REQUIRED_FIELD]</IF>
	<IF COND="[#ERROR] eq '1'">[@COMMON.ERROR_FIELD_MUST_BE_UNIQUE]</IF>
	<IF COND="[#ERROR] eq 'date'">[@COMMON.ERROR_INVALID_DATE]</IF>
	<IF COND="[#ERROR] eq 'time'">[@COMMON.ERROR_INVALID_TIME]</IF>
	<IF COND="[#ERROR] eq 'datetime'">[@COMMON.ERROR_INVALID_DATETIME]</IF>
	<IF COND="[#ERROR] eq 'int'">[@COMMON.ERROR_INVALID_INTEGER]</IF>
	<IF COND="[#ERROR] eq 'number'">[@COMMON.ERROR_INVALID_NUMBER]</IF>
	<IF COND="[#ERROR] eq 'class'">[@COMMON.ERROR_INVALID_CLASS]</IF>
	<IF COND="[#ERROR] eq 'type'">[@COMMON.ERROR_INVALID_TYPE]</IF>
	<IF COND="[#ERROR] eq 'username'">[@COMMON.ERROR_INVALID_USERNAME]</IF>
	<IF COND="[#ERROR] eq 'passwd'">[@COMMON.ERROR_INVALID_PASSWD]</IF>
	<IF COND="[#ERROR] eq 'field'">[@COMMON.ERROR_INVALID_FIELD]</IF>
	<IF COND="[#ERROR] eq 'style'">[@COMMON.ERROR_INVALID_STYLE]</IF>
	<IF COND="[#ERROR] eq 'mlstyle'">[@COMMON.ERROR_INVALID_MULTILINGUAL_STYLE]</IF>
	<IF COND="[#ERROR] eq 'url'">[@COMMON.ERROR_INVALID_URL]</IF>
	<IF COND="[#ERROR] eq 'email'">[@COMMON.ERROR_INVALID_EMAIL]</IF>
	<IF COND="[#ERROR] eq 'tplfile'">[@COMMON.ERROR_INVALID_TPLFILE]</IF>
	<IF COND="[#ERROR] eq 'textgroups'">[@COMMON.ERROR_INVALID_TEXTGROUPS]</IF>
	<IF COND="[#ERROR] eq 'readerror'">[@COMMON.ERROR_MISSING_FILE]</IF>
	<IF COND="[#ERROR] eq 'imageformat'">[@COMMON.ERROR_FORMAT_IMAGE]</IF>
</DEFFUNC>
