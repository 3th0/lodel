<!--[

   LODEL - Logiciel d'Edition ELectronique.
   Copyright (c) 2001-2002, Ghislain Picard, Marin Dacos
   Copyright (c) 2003, Ghislain Picard, Marin Dacos, Luc Santeramo, Nicolas Nutten, Anne Gentil-Beccot
   Home page: http://www.lodel.org
   E-Mail: lodel@lodel.org
                             All Rights Reserved
      This program is free software; you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation; either version 2 of the License, or
      (at your option) any later version.
      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.
      You should have received a copy of the GNU General Public License
      along with this program; if not, write to the Free Software
      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.]-->


<USE MACROFILE="macros.html">
<MACRO NAME="HEADER_HEAD_OPEN">
<title>Champ de la base de données</title>
<MACRO NAME="HEADER_HEAD_CLOSE">
<MACRO NAME="HEADER_LOGO"> 

<table width="100%" border="0" align="center" cellspacing="0" cellpadding="0">
	<tr>
		<td width="60" height="69"><img src="[#SHAREURL]/images/picto_admin.png" /></td>
		<td class="texte_ligne_haut_popup" width="100%" background="[#SHAREURL]/images/fond_haut_popup_edition.png">Edition d'un champ de la base de données</td>
	</tr>
</table>

<form method="post" action="champ.php" />
	<input type="hidden" name="edit" value="1" />
	<input type="hidden" name="id" value="[#ID]" />
	<input type="hidden" name="classe" value="[#CLASSE]" />
	<input type="hidden" name="idgroupe" value="[#IDGROUPE]" />
	<table class="table_normale" style="margin-top:30px;" border="0" cellspacing="0" cellpadding="5">
		<tr>
			<td class="texte_intitule">Nom du champ<br /> 				<span class="texte_info">(identifiant unique)</span>:</td>
			<td><input size="40" type="text" name="nom" value="[#NOM]" /></td>
		</tr>
		[(#ERREUR_NOM|true)<tr><td colspan="2" class="message_erreur">Il faut pr&eacute;ciser un nom ! Caractères acceptées: lettres et chiffres uniquement</td></tr>]
		[(#ERREUR_NOM_EXISTE|true)<tr><td colspan="2" class="message_erreur">Ce nom existe deja !</td></tr>]
		[(#ERREUR_NOM_RESERVE|true)<tr><td colspan="2" class="message_erreur">Ce nom est un mot réservé !</td></tr>]
		<tr>
			<td class="texte_intitule">Nom en clair du champ :</td>
			<td><input size="40" type="text" name="titre" value="[#TITRE]" /></td>
		</tr>
		[(#ERREUR_TITRE|true)<tr><td colspan="2" class="message_erreur">Il faut pr&eacute;ciser un titre !</td></tr>]
		<tr>
			<td class="texte_intitule">Style :</td>
			<td><input size="40" type="text" name="style" value="[#STYLE]" /></td>
		</tr>
		[(#ERREUR_MLSTYLE|true)<tr><td colspan="2" class="message_erreur">Les styles "multilingues" doivent preciser la langue. Exemple "resume:fr, abstract:en"</td></tr>]
		[(#ERREUR_STYLE|true)<tr><td colspan="2" class="message_erreur">Les styles ne peuvent contenir que les caracteres de a à z et de 0 a 9. Pas d'accent, pas d'espace.</td></tr>]
		<tr>
			<td class="texte_intitule">Type:</td>
			<td><select name="type"><?php make_select_types(); ?></select><IF COND="[#ERREUR_CONFIRMATION_TYPE]"><font color="red">Modifier le type provoque en g&eacute;n&eacute;neral des pertes de donn&eacute;es, veuillez confirmer</font><input class="form" type="submit" name="confirmation" value="   Confirmer    " /></IF></td>
		</tr>
		<tr>
			<td class="texte_intitule">Edition:</td>
			<td><select name="edition"><?php make_select_edition(); ?></select></td>
		</tr>
		<tr>
			<td>Informations additionnelles:</td>
	                <td></td>
		</tr>
		<tr>
	                <td class="texte_intitule">Balises autorisées:</td>
	                <td>
                            <table><tr>
		            <LOOP NAME="balises">
		                 <td><input type="checkbox" name="balise[[#NOM]]" [(#VALUE|true)checked] ></td><td>[#NOM]</td>
		                 <IF COND="[#COUNT] % 4==3"></tr><tr></IF>
		            </LOOP>
		            </tr></table>
	                </td>
		</tr>
		<tr>
			<td class="texte_intitule">Condition:</td>
			<td><select name="condition"><?php make_select_conditions(); ?></select></td>
		</tr>
		<tr>
			<td class="texte_intitule">Valeur par defaut:</td>
			<td><input size="40" type="text" name="defaut" value="[#DEFAUT]" /></td>
		</tr>
		<tr>
			<td class="texte_intitule">Traitement à l'import:</td>
			<td><input size="40" type="text" name="traitement" value="[#TRAITEMENT]" /></td>
		</tr>
		<tr>
			<td class="texte_intitule">Filtrage automatique:</td>
			<td><input size="40" type="text" name="filtrage" value="[#FILTRAGE]" /></td>
		</tr>
		<tr>
			<td class="texte_intitule">Commentaire :<br /><span class="texte_info">(facultatif)</span></td>
			<td><textarea name="commentaire" rows="10" cols="60">[#COMMENTAIRE]</textarea>
			</td>
		</tr>
		<IF COND="[#DROITADMINLODEL]">
		<tr>
			<td class="texte_intitule">Champ protégé:</td>
			<td><MACRO NAME="CASE_A_COCHER_PROTEGER"></td>
		</tr>
		</IF>

	</table>
	<div class="pied_de_formulaire">
		<input class="form" type="submit" value="   [Modifier(#ID|true)][Ajouter(#ID|false)]    " />&nbsp;&nbsp;&nbsp;&nbsp;
		<input class="form" type="button" value="    Annuler    " onClick="javascript:window.history.go(-1)" />&nbsp;&nbsp;&nbsp;&nbsp;
		<IF COND="[#ID]">
			<input class="form" type="button" value="  Supprimer  " onClick="javascript:window.location='champ.php?delete=1&id=[#ID]'" />
		</IF>
	</div>
</form>

<div>
Les groupes de balises correpondent à:
<table>
<tr><td>xhtml:fontstyle</td><td>tt, i, b, big, small</td></tr>
<tr><td>xhtml:phrase</td><td>em, strong, dfn, code, q, samp, kbd, var, cite, abbr, acronym, sub, sup</td></tr>
<tr><td>xhtml:block</td><td>p, h1, h2, h3, h4, h5, h6, div, lists, pre, hr, blockquote, address, table</td></tr>
</table>
<div>
<MACRO NAME="CLOSE_HTML">