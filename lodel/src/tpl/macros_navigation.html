<!--[

   LODEL - Logiciel d'Edition ELectronique.
   Copyright (c) 2001-2002, Ghislain Picard, Marin Dacos
   Copyright (c) 2003, Ghislain Picard, Marin Dacos, Luc Santeramo, Nicolas Nutten, Anne Gentil-Beccot
   Copyright (c) 2004, Ghislain Picard, Marin Dacos, Luc Santeramo, Anne Gentil-Beccot, Bruno Cénou
   Copyright (c) 2005, Ghislain Picard, Marin Dacos, Luc Santeramo, Gautier Poupeau, Jean Lamy, Bruno Cénou
   Copyright (c) 2006, Marin Dacos, Luc Santeramo, Bruno Cénou, Jean Lamy, Mikaël Cixous, Sophie Malafosse
   Home page: http://www.lodel.org
   E-Mail: lodel@lodel.org
                             All Rights Reserved
      This program is free software; you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation; either version 2 of the License, or
      (at your option) any later version.
      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.
      You should have received a copy of the GNU General Public License
      along with this program; if not, write to the Free Software
      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.]-->


<!--[ ****************************************************************** ]-->
<!--[ Librairie de navigation.                                           ]-->
<!--[ Auteurs :                                                          ]-->
<!--[ Marin Dacos. 2002.                                                 ]-->
<!--[ Nicolas Nutten. 2003.                                              ]-->
<!--[ Cette librairie contient :                                         ]-->
<!--[ <MACRO NAME="BOUTON_PUBLICATION_PRECEDENTE">                       ]-->
<!--[ <MACRO NAME="BOUTON_PUBLICATION_SUIVANTE">                         ]-->
<!--[ <MACRO NAME="BLOC_SOBRE_NAVIGATION_PUBLICATIONS">                  ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_PRECEDENTE">              ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_SUIVANTE">                ]-->
<!--[ <MACRO NAME="BLOC_NAVIGATION_PUBLICATIONS">                        ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_PRECEDENT">                  ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_SUIVANT">                    ]-->
<!--[ <MACRO NAME="BLOC_NAVIGATION_DOCUMENTS">                           ]-->
<!--[ <MACRO NAME="BOUTON_DOCUMENT_PRECEDENT">                           ]-->
<!--[ <MACRO NAME="BOUTON_DOCUMENT_SUIVANT">                             ]-->
<!--[ <MACRO NAME="BLOC_SOBRE_NAVIGATION_DOCUMENTS">                     ]-->
<!--[ <MACRO NAME="BLOC_NAVIGATION_DOCUMENTS_TEXTE">                     ]-->
<!--[ <MACRO NAME="INSERER_BARRE_NAVIGATION_VERTICALE">                  ]-->
<!--[ <MACRO NAME="EXPLORATEUR_RUBRIQUES_PUBLICATIONS">                     ]-->
<!--[ <MACRO NAME="EXPLORATEUR_RUBRIQUES_DOCUMENT">                         ]-->
<!--[ <MACRO NAME="EXPLORATEUR">                                         ]-->
<!--[ ****************************************************************** ]-->

<DEFMACRO NAME="BOUTON_PUBLICATION_PRECEDENTE">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton qui permet d'accéder à la publication précédente ]-->
<!--[ si elle existe, sinon le bouton ne s'affiche pas.                  ]-->
<!--[ ****************************************************************** ]-->
	&nbsp;	&nbsp;	&nbsp;
        <LOOP NAME="previous" ID="[#ID]">
        <DO>
		<IF COND="[#TYPE] EQ 'numero'">
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_NUMERO_PRECEDENT">
			</a>
		<ELSE />
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_RUBRIQUE_PRECEDENTE">
			</a>
		</IF>
	</DO>
        </LOOP>
	&nbsp;	&nbsp;	&nbsp;
</DEFMACRO>

<DEFMACRO NAME="BOUTON_PUBLICATION_SUIVANTE">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton qui permet d'accéder à la publication suivante   ]-->
<!--[ si elle existe, sinon le bouton ne s'affiche pas.                  ]-->
<!--[ ATTENTION !!! Macro utilisant du PHP !!! NE PAS TOUCHER !!!        ]-->
<!--[ ****************************************************************** ]-->
	&nbsp;	&nbsp;	&nbsp;
        <LOOP NAME="next" ID="[#ID]">
        <DO>
		<IF COND="[#TYPE] EQ 'numero'">
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_NUMERO_SUIVANT">
			</a>
		<ELSE />
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_RUBRIQUE_SUIVANTE">
			</a>
		</IF>
	</DO>
        </LOOP>
	&nbsp;	&nbsp;	&nbsp;
</DEFMACRO>

<DEFMACRO NAME="BLOC_SOBRE_NAVIGATION_PUBLICATIONS">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bloc de navigation sans textes sous les boutons,        ]-->
<!--[ comprenant une fleche gauche, permettant de naviguer vers les      ]-->
<!--[ publications précédentes, le petit logo (icône ou autre ...) de la ]-->
<!--[ revue permettant de revenir sur la page d'accueil et une fleche    ]-->
<!--[ droite permettant de naviguer vers les publications suivantes.     ]-->
<!--[ Cette Macro utilise les macros suivantes :                         ]-->
<!--[ <MACRO NAME="BOUTON_PUBLICATION_PRECEDENTE">                       ]-->
<!--[ <MACRO NAME="BOUTON_PUBLICATION_SUIVANTE">                         ]-->
<!--[ ****************************************************************** ]-->
	<table width="330" border="0" cellspacing="0" cellpadding="15" align="CENTER" valign="TOP"  bordercolor="Black" class="navigation">
		<tr>
			<td width="15%" align="center">
				<MACRO NAME="BOUTON_PUBLICATION_PRECEDENTE">
			</td>
			<td width="70%" align="center">
				<a href="index.[#EXTENSIONSCRIPTS]">
					<MACRO NAME="IMG_ICONE_SITE">
				</a>
			</td>
			<td width="15%" align="center">
				<DEFMACRO NAME="BOUTON_PUBLICATION_SUIVANTE">
			</td>
		</tr>
	</table>
</DEFMACRO>

<DEFMACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_PRECEDENTE">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton avec dessous un texte "Numéro/rubrique précédent"   ]-->
<!--[ permettant d'accéder à la publication précédente. Si elle n'existe ]-->
<!--[ pas le texte sous le bouton est changé par "Retour à l'accueil".   ]-->
<!--[ ****************************************************************** ]-->
	&nbsp;
        <LOOP NAME="previous" ID="[#ID]">
        <DO>
		<IF COND="[#TYPE] EQ 'numero'">
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_PUBLICATION_PRECEDENTE">
				<br />
				<span style="color:Black;">
					rubrique précédente
				</span>
			</a>
                 <ELSE/>
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_PUBLICATION_PRECEDENTE">
				<br />
				<span style="color:Black;">
					Numéro précédent
				</span>
			</a>
                 </IF>
	</DO>
        <ALTERNATIVE>
		<a href="index.[#EXTENSIONSCRIPTS]">
			<MACRO NAME="IMG_BOUTON_PUBLICATION_PRECEDENTE">
			<br />
			<span style="color:Black;">
				Retour à l'accueil
			</span>
		</a>
        </ALTERNATIVE>
        </LOOP>
</DEFMACRO>

<DEFMACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_SUIVANTE">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton avec dessous un texte "Numéro/rubrique suivant"     ]-->
<!--[ permettant d'accéder à la publication suivante. Si elle n'existe   ]-->
<!--[ pas le texte sous le bouton est changé par "Retour à l'accueil".   ]-->
<!--[ ****************************************************************** ]-->
	&nbsp;
        <LOOP NAME="next" ID="[#ID]">
        <DO>
		<IF COND="[#TYPE] EQ 'numero'">
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_PUBLICATION_SUIVANTE">
				<br />
				<span style="color:Black;">
					rubrique suivante
				</span>
			</a>
                 <ELSE/>
			<a href="[(#ID|makeurlwithid('index'))]">
				<MACRO NAME="IMG_BOUTON_PUBLICATION_SUIVANTE">
				<br />
				<span style="color:Black;">
					Numéro suivant
				</span>
			</a>
                 </IF>
	</DO>
        <ALTERNATIVE>
		<a href="index.[#EXTENSIONSCRIPTS]">
			<MACRO NAME="IMG_BOUTON_PUBLICATION_SUIVANTE">
			<br />
			<span style="color:Black;">
				Retour à l'accueil
			</span>
		</a>
        </ALTERNATIVE>
        </LOOP>
</DEFMACRO>

<DEFMACRO NAME="BLOC_NAVIGATION_PUBLICATIONS">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bloc de navigation comprenant une fleche gauche,        ]-->
<!--[ permettant de naviguer vers les publications précédentes,          ]-->
<!--[ le petit logo (icône ou autre ...) de la revue permettant de       ]-->
<!--[ revenir sur la page d'accueil et une fleche droite permettant de   ]-->
<!--[ naviguer vers les publications suivantes.                          ]-->
<!--[ Cette Macro utilise les macros suivantes :                         ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_PRECEDENTE">              ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_SUIVANTE">                ]-->
<!--[ ****************************************************************** ]-->
	<div class="navigation_precedent">
				<MACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_PRECEDENTE">
				<a href="index.[#EXTENSIONSCRIPTS]">
					<MACRO NAME="IMG_ICONE_SITE">
				</a>
	</div>
	<div class="navigation_suivant">
				<MACRO NAME="BOUTON_ET_TEXTE_PUBLICATION_SUIVANTE">
	</div>
</DEFMACRO>

<DEFMACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_PRECEDENT">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton avec dessous le texte : "Précédent", permettant  ]-->
<!--[ d'accéder à la publication précédente. Si elle n'existe pas le     ]-->
<!--[ texte sous le bouton est changé par "Retour au sommaire".          ]-->
<!--[ ****************************************************************** ]-->
        <LOOP NAME="previous" ID="[#ID]" THROUGH="regroupement">
        <DO>
		<a href="[(#ID|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_PRECEDENT">
			<br />
			<span style="color:Black;">
				Précédent
			</span>
		</a>
	</DO>
	<ALTERNATIVE>
		<a href="[(#IDPARENT|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_PRECEDENT_SOMMAIRE">
			<br />
			<span style="color:Black;">
				Retour au sommaire
			</span>
		</a>
	</ALTERNATIVE>	
        <LOOP>
</DEFMACRO>

<DEFMACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_SUIVANT">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton avec dessous le texte : "Suivant", permettant    ]-->
<!--[ d'accéder à la publication suivante. Si elle n'existe pas le       ]-->
<!--[ texte sous le bouton est changé par "Retour au sommaire".          ]-->
<!--[ ****************************************************************** ]-->
	&nbsp;
        <LOOP NAME="next" ID="[#ID]" THROUGH="regroupement">
        <DO>
		<a href="[(#ID|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_SUIVANT">
			<br />
			<span style="color:Black;">
				Précédent
			</span>
		</a>
	</DO>
	<ALTERNATIVE>
		<a href="[(#IDPARENT|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_SUIVANTE_SOMMAIRE">
			<br />
			<span style="color:Black;">
				Retour au sommaire
			</span>
		</a>
	</ALTERNATIVE>	
        <LOOP>
</DEFMACRO>

<DEFMACRO NAME="BLOC_NAVIGATION_DOCUMENTS">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bloc de navigation comprenant une fleche gauche,        ]-->
<!--[ permettant de naviguer vers les documents précédents, le petit     ]-->
<!--[ logo (icône ou autre ...) de la revue permettant de revenir sur    ]-->
<!--[ le sommaire et une fleche droite permettant de naviguer vers les   ]-->
<!--[ documents suivants.                                                ]-->
<!--[ Cette Macro utilise les macros suivantes :                         ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_PRECEDENT">                  ]-->
<!--[ <MACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_SUIVANT">                    ]-->
<!--[ ****************************************************************** ]-->
	<table width="100%" border="0" cellspacing="0" cellpadding="0" align="CENTER" valign="TOP"  bordercolor="Black">
		<tr>
			<td width="33%" class="texte_petit_centre">
				<MACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_PRECEDENT">
			</td>
			<td width="33%" class="texte_petit_centre">
				<a href="[(#IDPARENT|makeurlwithid('index'))]">
					<MACRO NAME="IMG_ICONE_SITE">
					<br />
				</a>
			</td>
			<td width="33%" class="texte_petit_centre">
				<MACRO NAME="BOUTON_ET_TEXTE_DOCUMENT_SUIVANT">
			</td>
		</tr>
	</table>
</DEFMACRO>

<DEFMACRO NAME="BOUTON_DOCUMENT_PRECEDENT">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton qui permet d'accéder au document précédent si il ]-->
<!--[ existe, sinon affiche un bouton permettant d'aller au sommaire.    ]-->
<!--[ ****************************************************************** ]-->
        <LOOP NAME="previous" ID="[#ID]" THROUGH="regroupement">
        <DO>
		<a href="[(#ID|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_PRECEDENT">
		</a>
		&nbsp;&nbsp;&nbsp;
	</DO>
	<ALTERNATIVE>
		<a href="[(#IDPARENT|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_PRECEDENT_SOMMAIRE">
		</a>
		&nbsp;&nbsp;&nbsp;
	</ALTERNATIVE>	
        <LOOP>
</DEFMACRO>

<DEFMACRO NAME="BOUTON_DOCUMENT_SUIVANT">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bouton qui permet d'accéder au document suivant si il   ]-->
<!--[ existe, sinon affiche un bouton permettant d'aller au sommaire.    ]-->
<!--[ ****************************************************************** ]-->
        <LOOP NAME="next" ID="[#ID]" THROUGH="regroupement">
        <DO>
		<a href="[(#ID|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_SUIVANT">
		</a>
		&nbsp;&nbsp;&nbsp;
	</DO>
	<ALTERNATIVE>
		<a href="[(#IDPARENT|makeurlwithid('index'))]">
			<MACRO NAME="IMG_BOUTON_DOCUMENT_SUIVANT_SOMMAIRE">
		</a>
		&nbsp;&nbsp;&nbsp;
	</ALTERNATIVE>	
        </LOOP>
</DEFMACRO>

<DEFMACRO NAME="BLOC_SOBRE_NAVIGATION_DOCUMENTS">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bloc de navigation sans textes sous les boutons,        ]-->
<!--[ comprenant une fleche gauche, permettant de naviguer vers les      ]-->
<!--[ documents précédents, le petit logo (icône ou autre ...) de la     ]-->
<!--[ revue permettant de revenir sur le sommaire et une fleche droite   ]-->
<!--[ permettant de naviguer vers les documents suivants.                ]-->
<!--[ Cette Macro utilise les macros suivantes :                         ]-->
<!--[ <MACRO NAME="BOUTON_DOCUMENT_PRECEDENT">                           ]-->
<!--[ <MACRO NAME="BOUTON_DOCUMENT_SUIVANT">                             ]-->
<!--[ ****************************************************************** ]-->
	<table width="330" border="0" cellspacing="0" cellpadding="15" align="CENTER" valign="TOP"  bordercolor="Black" class="navigation">
		<tr>
			<td width="15%" align="center">
				<MACRO NAME="BOUTON_DOCUMENT_PRECEDENT">
			</td>
			<td width="70%" align="center">
				<a title="Sommaire du numéro" href="[(#IDPARENT|makeurlwithid('index'))]">
					<MACRO NAME="IMG_ICONE_SITE">
				</a>
			</td>
			<td width="15%" align="center">
				<DEFMACRO NAME="BOUTON_DOCUMENT_SUIVANT">
			</td>
		</tr>
	</table>
</DEFMACRO>


<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Affiche un bloc de navigation avec textes sans boutons,            ]-->
<!--[ ****************************************************************** ]-->

<DEFMACRO NAME="BLOC_NAVIGATION_DOCUMENTS_TEXTE">
	<div class="navigation">
		<div class="navigation_precedent">
                     <LOOP NAME="previous" ID="[#ID]" THROUGH="regroupement">
                     <DO>
		                        <a href="[(#ID|makeurlwithid('index'))]">
						&lt;&lt; Article précédent
					</a>
							
                      </DO>
                      <ALTERNATIVE>
		                        <a class="navigation_precedent" href="[(#IDPARENT|makeurlwithid('index'))]">
						&lt;&lt; Retour au sommaire
					</a>
					
                      </ALTERNATIVE>		
                      </LOOP>
		</div>
		<div class="navigation_suivant">
                     <LOOP NAME="next" ID="[#ID]" THROUGH="regroupement">
                     <DO>
		                        <a href="[(#ID|makeurlwithid('index'))]">
						Article suivant &gt;&gt; 
					</a>
							
                      </DO>
                      <ALTERNATIVE>
		                        <a class="navigation_precedent" href="[(#IDPARENT|makeurlwithid('index'))]">
					         Retour au sommaire &gt;&gt; 
					</a>
					
                      </ALTERNATIVE>		
                      </LOOP>
		</div>
	</div>
</DEFMACRO>


<DEFMACRO NAME="INSERER_BARRE_NAVIGATION_VERTICALE">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ Insère une barre de navigation verticale.                          ]-->
<!--[ Pour modifier cette barre de navigation il faut éditer le fichier  ]-->
<!--[ "barre.html".                                                      ]-->
<!--[ ATTETION !!! Cette Macro doit être appellée à l'intérieur d'un     ]-->
<!--[ tableau.                                                           ]-->
<!--[                                                                    ]-->
<!--[ Exemple :                                                          ]-->
<!--[ <table><tr>                                                        ]-->
<!--[     <MACRO NAME="INSERER_BARRE_NAVIGATION_VERTICALE">              ]-->
<!--[ </tr></table>                                                      ]-->
<!--[ ou bien :                                                          ]-->
<!--[ <MACRO NAME="OUVRIR_TABLE_PRINCIPALE">                             ]-->
<!--[     <MACRO NAME="INSERER_BARRE_NAVIGATION_VERTICALE">              ]-->
<!--[ <MACRO NAME="FERMER_TABLE_PRINCIPALE">                             ]-->
<!--[ ****************************************************************** ]-->
	<USE TEMPLATEFILE="barre"> 
</DEFMACRO>

<DEFMACRO NAME="EXPLORATEUR_RUBRIQUES_PUBLICATIONS">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ ****************************************************************** ]-->
	<LET VAR="PUBLICATION_ENCOURS">[#ID]</LET>
	<LOOP NAME="topparentpubli">
		<LET VAR="TOP_PARENT">[#ID]</LET>
		<MACRO NAME="EXPLORATEUR">
	</LOOP>
</DEFMACRO>

<DEFMACRO NAME="EXPLORATEUR_RUBRIQUES_DOCUMENT">
<!--[ ****************************************************************** ]-->
<!--[ version 2.0                                                        ]-->
<!--[ ****************************************************************** ]-->
	<LET VAR="PUBLICATION_ENCOURS">[#IDPARENT]</LET>
	<LOOP NAME="topparentdoc7">
		<LET VAR="TOP_PARENT">[#ID]</LET>
		<MACRO NAME="EXPLORATEUR">
	</LOOP>
</DEFMACRO>


