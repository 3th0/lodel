<CONTENT VERSION="1.0" LANG="fr" CHARSET="iso-8859-1"/>
<!--[

   LODEL - Logiciel d'Edition ELectronique.
   Copyright (c) 2001-2002, Ghislain Picard, Marin Dacos
   Copyright (c) 2003, Ghislain Picard, Marin Dacos, Luc Santeramo, Nicolas Nutten, Anne Gentil-Beccot
   Copyright (c) 2004, Ghislain Picard, Marin Dacos, Luc Santeramo, Anne Gentil-Beccot, Bruno Cï¿½ou
   Copyright (c) 2005, Ghislain Picard, Marin Dacos, Luc Santeramo, Gautier Poupeau, Jean Lamy
   Home page: http://www.lodel.org
   E-Mail: lodel@lodel.org
                             All Rights Reserved
      This program is free software; you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation; either version 2 of the License, or
      (at your option) any later version.
      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.
      You should have received a copy of the GNU General Public License
      along with this program; if not, write to the Free Software
      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.]-->


<USE MACROFILE="macros.html">
<USE MACROFILE="macros_admin.html">
<USE MACROFILE="macros_interface.html">
<MACRO NAME="HEADER_HEAD_OPEN">
<title>[@ADMIN.TITLE_USER_EDITION]</title>
<script type="text/javascript">
	function checkpasswd() {
		
		var pass = document.getElementById('passwd');
		var confirm = document.getElementById('confirmpasswd');
		if(pass.value == confirm.value) {
			return true;
		}
		alert('[@ADMIN.PLEASE_CHECK_THE_PASSWORDS_YOU_TYPED]');
		confirm.focus();
		return false;
	}

</script>
<MACRO NAME="HEADER_HEAD_CLOSE">
<MACRO NAME="HEADER_LOGO"> 

<table width="100%" border="0" align="center" cellspacing="0" cellpadding="0">
	<tr>
		<td width="60" height="69"><img src="[#SHAREURL]/images/picto_admin.png" /></td>
		<td class="texte_ligne_haut_popup" width="100%" background="[#SHAREURL]/images/fond_haut_popup_edition.png">[@ADMIN.TITLE_USER_EDITION]</td>
	</tr>
</table>

						
<form method="POST" enctype="multipart/form-data" action="<?php echo basename($_SERVER['PHP_SELF']); ?>" autocomplete="off" onsubmit="return checkpasswd();">
<!--[ begin{form} Beginning of the form.  Automatic generated. Don't edit ]-->
<input type="hidden" name="do" value="edit">
<input type="hidden" name="lo" value="users">
<fieldset>
  <legend>[@ADMIN.USER_GENERAL_INFORMATIONS]</legend>
  <input type="hidden" name="id" value="[#ID]">
  <LOOP NAME="fielderror" FIELD="id">
    <a id="id"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE=""></FUNC>
    </span>
  </LOOP>
  <label for="username">[@COMMON.LOGIN]<span class="optional">(*)</span> : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="username" id="username" class="text" value="[#USERNAME]">
  <LOOP NAME="fielderror" FIELD="username">
    <a id="username"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@COMMON.LOGIN]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="passwd">[@COMMON.PASSWD] : 
		</label>
  <br class="nobr">
  <input type="password" size="30" name="passwd" id="passwd">
  <LOOP NAME="fielderror" FIELD="passwd">
    <a id="passwd"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@COMMON.PASSWD]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="confirmpasswd">[@ADMIN.CONFIRM_PASSWORD] : 
		</label>
  <br class="nobr">
  <input type="password" size="30" name="confirmpasswd" id="confirmpasswd">
  <LOOP NAME="fielderror" FIELD="confirmpasswd">
    <a id="confirmpasswd"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.CONFIRM_PASSWORD]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="lastname">[@ADMIN.LASTNAME] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="lastname" id="lastname" class="text" value="[#LASTNAME]">
  <LOOP NAME="fielderror" FIELD="lastname">
    <a id="lastname"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.LASTNAME]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="firstname">[@ADMIN.FIRSTNAME] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="firstname" id="firstname" class="text" value="[#FIRSTNAME]">
  <LOOP NAME="fielderror" FIELD="firstname">
    <a id="firstname"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.FIRSTNAME]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="email">[@ADMIN.EMAIL] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="email" id="email" class="text" value="[#EMAIL]">
  <LOOP NAME="fielderror" FIELD="email">
    <a id="email"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.EMAIL]"></FUNC>
    </span>
  </LOOP>
  <br />
</fieldset>
<fieldset>
  <legend>[@ADMIN.USER_LODEL_INFORMATIONS]</legend>
  <label for="lang">[@ADMIN.USER_LANG] : 
		</label>
  <br class="nobr">
  <select name="lang" id="lang">
    <?php 
						makeSelect($context,"lang","users","lang");
					?>
  </select>
  <LOOP NAME="fielderror" FIELD="lang">
    <a id="lang"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.USER_LANG]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="userrights">[@ADMIN.USER_RIGHTS] : 
		</label>
  <br class="nobr">
  <select name="userrights" id="userrights">
    <?php 
						makeSelect($context,"userrights","users","select");
					?>
  </select>
  <LOOP NAME="fielderror" FIELD="userrights">
    <a id="userrights"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.USER_RIGHTS]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="userlevel">[@ADMIN.USER_LEVEL_OF_USE] : 
		</label>
  <br class="nobr">
  <select name="userlevel" id="userlevel">
    <?php 
						makeSelect($context,"userlevel","users","select");
					?>
  </select>
  <LOOP NAME="fielderror" FIELD="userlevel">
    <a id="userlevel"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.USER_LEVEL_OF_USE]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="protected">[@ADMIN.PROTECTED_USER] : 
		</label>
  <br class="nobr">
  <IF COND="abs([#STATUS]) ge 32">
    <input type="checkbox" name="protected" id="protected" checked>
    <ELSE/>
    <input type="checkbox" name="protected" id="protected">
  </IF>
  <LOOP NAME="fielderror" FIELD="protected">
    <a id="protected"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PROTECTED_USER]"></FUNC>
    </span>
  </LOOP>
  <br />
</fieldset>
<fieldset>
  <legend>[@ADMIN.USER_OPTIONAL_INFORMATION]</legend>
  <label for="nickname">[@ADMIN.NICKNAME] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="nickname" id="nickname" class="text" value="[#NICKNAME]">
  <LOOP NAME="fielderror" FIELD="nickname">
    <a id="nickname"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.NICKNAME]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="biography">[@ADMIN.BIOGRAPHY : 
		</label>
  <br class="nobr">
  <textarea size="30" name="biography" id="biography" class="text" row="10" cols="60">[#BIOGRAPHY]</textarea>
  <LOOP NAME="fielderror" FIELD="biography">
    <a id="biography"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.BIOGRAPHY"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="photo">[@ADMIN.PHOTO] : 
		</label>
  <br class="nobr">
  <FUNC NAME="PRINT_EDIT_FIELD_XSLT" VARNAME="photo" TYPE="image" VALUE="[#PHOTO]" FULLVARNAME="photo"></FUNC>
  <label for="professional_website">[@ADMIN.PROFESSIONAL_WEBSITE_TITLE : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="professional_website" id="professional_website" class="text" value="[#PROFESSIONAL_WEBSITE]">
  <LOOP NAME="fielderror" FIELD="professional_website">
    <a id="professional_website"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PROFESSIONAL_WEBSITE_TITLE"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="url_professional_website">[@ADMIN.PROFESSIONAL_WEBSITE_URL : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="url_professional_website" id="url_professional_website" class="text" value="[#URL_PROFESSIONAL_WEBSITE]">
  <LOOP NAME="fielderror" FIELD="url_professional_website">
    <a id="url_professional_website"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PROFESSIONAL_WEBSITE_URL"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="rss_professional_website">[@ADMIN.RSS_PROFESSIONAL_WEBSITE : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="rss_professional_website" id="rss_professional_website" class="text" value="[#RSS_PROFESSIONAL_WEBSITE]">
  <LOOP NAME="fielderror" FIELD="rss_professional_website">
    <a id="rss_professional_website"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.RSS_PROFESSIONAL_WEBSITE"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="personal_website">[@ADMIN.PERSONNAL_WEBSITE] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="personal_website" id="personal_website" class="text" value="[#PERSONAL_WEBSITE]">
  <LOOP NAME="fielderror" FIELD="personal_website">
    <a id="personal_website"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PERSONNAL_WEBSITE]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="url_personal_website">[@ADMIN.PERSONNAL_WEBSITE_URL] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="url_personal_website" id="url_personal_website" class="text" value="[#URL_PERSONAL_WEBSITE]">
  <LOOP NAME="fielderror" FIELD="url_personal_website">
    <a id="url_personal_website"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PERSONNAL_WEBSITE_URL]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="rss_personal_website">[@ADMIN.RSS_PERSONNAL_WEBSITE : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="rss_personal_website" id="rss_personal_website" class="text" value="[#RSS_PERSONAL_WEBSITE]">
  <LOOP NAME="fielderror" FIELD="rss_personal_website">
    <a id="rss_personal_website"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.RSS_PERSONNAL_WEBSITE"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="pgp_key">[@ADMIN.PGP_KEY] : 
		</label>
  <br class="nobr">
  <textarea size="30" name="pgp_key" id="pgp_key" class="text" row="10" cols="60">[#PGP_KEY]</textarea>
  <LOOP NAME="fielderror" FIELD="pgp_key">
    <a id="pgp_key"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PGP_KEY]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="alternate_email">[@ADMIN.ALTERNATIVE_EMAIL] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="alternate_email" id="alternate_email" class="text" value="[#ALTERNATE_EMAIL]">
  <LOOP NAME="fielderror" FIELD="alternate_email">
    <a id="alternate_email"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.ALTERNATIVE_EMAIL]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="phonenumber">[@ADMIN.PHONE_NUMBER] : 
		</label>
  <br class="nobr">
  <input type="text" size="15" name="phonenumber" id="phonenumber" class="text" value="[#PHONENUMBER]">
  <LOOP NAME="fielderror" FIELD="phonenumber">
    <a id="phonenumber"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.PHONE_NUMBER]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="im_identifier">[@ADMIN.INSTANT_MESSAGING_IDENTIFIER] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="im_identifier" id="im_identifier" class="text" value="[#IM_IDENTIFIER]">
  <LOOP NAME="fielderror" FIELD="im_identifier">
    <a id="im_identifier"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.INSTANT_MESSAGING_IDENTIFIER]"></FUNC>
    </span>
  </LOOP>
  <br />
  <label for="im_name">[@ADMIN.INSTANT_MESSAGING_NAME] : 
		</label>
  <br class="nobr">
  <input type="text" size="30" name="im_name" id="im_name" class="text" value="[#IM_NAME]">
  <LOOP NAME="fielderror" FIELD="im_name">
    <a id="im_name"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.INSTANT_MESSAGING_NAME]"></FUNC>
    </span>
  </LOOP>
  <br />
</fieldset>
<IF COND="[#SITE] and ![#LODELUSER.ADMIN]">
  <label for="usergroups">[@ADMIN.USERGROUPS] : 
		</label>
  <br class="nobr">
  <select multiple name="usergroups[]" id="usergroups">
    <?php 
						makeSelect($context,"usergroups","users","multipleselect");
					?>
  </select>
  <LOOP NAME="fielderror" FIELD="usergroups">
    <a id="usergroups"></a><span class="error">
      <FUNC NAME="PRINT_ERROR_MESSAGE" TITLE="[@ADMIN.USERGROUPS]"></FUNC>
    </span>
  </LOOP>
  <br />
</IF>

<!--[ end{form} Automatic generated. Don't edit ]-->		    
	    <table>
		<tr>
			<td class="texte_intitule" align="top">[@ADMIN.SESSIONS]</td>
			<td align="top">
			<LOOP NAME="session" TABLE="session" WHERE="iduser='[#ID]' AND site='[#SITE]'"> 
				<DO>
				<div class="texte_info">[@ADMIN.EXPIRE] [#EXPIRE2|formatedtime('%d/%m/%y %H:%M')] <a href="session.php?delete=[#ID]"><IF COND="[#EXPIRE2] lt time()">[[@COMMON.DELETE]]<ELSE/>[[@ADMIN.DELOGG]]</IF></a></div><br />
				</DO>
				<ALTERNATIVE>
					[@ADMIN.NO_SAVED_SESSION]
				</ALTERNATIVE>
			</LOOP>
			</td>
		</tr>
	</table>

	<MACRO NAME="EDIT_SUBMIT_BAR">
</form>



<MACRO NAME="CLOSE_HTML">
