<? include("tpl/install-openhtml.html"); ?>
<!--[

  LODEL - Logiciel d'Edition ELectronique.

  Copyright (c) 2001-2002, Ghislain Picard, Marin Dacos
  Copyright (c) 2003, Ghislain Picard, Marin Dacos, Luc Santeramo, Nicolas Nutten, Anne Gentil-Beccot

  Home page: http://www.lodel.org

  E-Mail: lodel@lodel.org

                            All Rights Reserved

     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
     (at your option) any later version.

     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
     Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
]-->

<!--[ ce fichier n'est pas un template ]-->

<h2>Options divers</h2>

<?php if ($erreur_importdir) { ?>
<p><strong>Erreur:</strong> le répértoire <?php echo $importdir; ?> n'est pas lisible par le serveur.</p>
<?php } ?>



<p>Ces options permettent de controler finement le fonctionnement de Lodel. Les valeurs par defaut convinnent pour la plupart des sites:</p>

<form method="post" action="install.php">
<input type="hidden" name="tache" value="options">
<table border="1">

<tr><td>
<p>Vérifier que le chemin de l'url vers la racine de Lodel a été deviné correctement.</p>
<input type="text" size="60" name="newurlroot" value="<?php echo $urlroot; ?>">
</td></tr>
<tr><td>
<p>Droits sur les fichiers:</p>
Lorsque le serveur créée des fichiers lors de l'installation d'un site ou lors du fonction normal de Lodel, il est propriétaire des fichiers, mais peut aussi ouvrir les droits de lecture et/ou d'ecriture pour le groupe et/ou pour tous les utilisateurs. Ceci permet d'acceder aux fichiers avec un autre utilisateur, et est recommandé si vous etes chez un hebergeur qui protège les comptes utilisateurs les uns des autres ou si vous êtes l'unique utilisateur sur le serveur. Dans le cas contraire, il est conseillé de fermer les droits autant que possible sous peine par exemple de rendre accessible certains mot de passe.

<div align="center">
<table border="1" width="50%">
<tr><td>groupe</td><td>les autres (all)</td></tr>
<tr><td>
<input type="checkbox" name="permission[group][read]" <?php if (octdec($filemask) & 0040) echo "checked";?>  > Lecture<br />
<input type="checkbox" name="permission[group][write]" <?php if (octdec($filemask) & 0020) echo "checked";?> > Ecriture
</td><td>
<input type="checkbox" name="permission[all][read]"  <?php if (octdec($filemask) & 0004) echo "checked";?> > Lecture<br />
<input type="checkbox" name="permission[all][write]" <?php if (octdec($filemask) & 0002) echo "checked";?> > Ecriture
</td></tr>
</table>
</div>


</td></tr>
<tr><td>
<p>Extension des scripts:</p>
<p>Les scripts Lodel sont des scripts PHP, et il est recommandé d'utiliser l'extension ".php". Cependant pour des raisons esthétiques, il est possible de choisir l'extension ".html". Ceci nécessite une configuration particulière sur le serveur.</p>
<table>
<tr>
<td>.php:</td><td><input type="radio" name="newextensionscripts" value="php" <? if(!$extensionscripts || $extensionscripts=="php") echo "checked"; ?> ></td>
</tr><tr>
<td>.html:</td><td><input type="radio" name="newextensionscripts" value="html"  <? if($extensionscripts=="html") echo "checked";?> ></td>
</tr>
</table>
</td></tr>
<tr><td>
<p>Utiliser des liens symboliques:</p>

<p>Si supporté par le serveur web, certains fichiers peuvent être liés plutôt que copiés. La liaison permet une gestion plus souple des mises à jour, des droits d'accès, etc. Ceci se justifie uniquement si Lodel gère plusieures sites. Il faut configurer le serveur web pour "suivre les liens symboliques" ce qui est généralement considéré comme peu sûr.</p>

oui: <input type="radio" name="newusesymlink" value="oui" <? if($usesymlink=="oui") echo "checked";?> ><br />
non: <input type="radio" name="newusesymlink" value="non"  <? if($usesymlink!="oui") echo "checked";?> ><br />
</td></tr>
<tr><td>
<p>Repertoire d'import:</p>
<p>Lors que la base de donnée et les fichiers associés atteigne un taille important, il n'est pas possible d'importer les fichiers par formulaire web. Dans ce cas, les fichiers de sauvegardes doivent etre déposé dans le repertoire d'import (par ftp par exemple). Si par ailleurs, le serveur web peut écrire dans ce repertoire, Lodel proposera d'y stocker les sauvegardes (backup.php). Ce repertoire est utile pour les gros sites !

<p>Préciser un chemin absolu <u>hors l'arborescence de Lodel</u> (ce repertoire doit être lisible par le serveur, mais doit etre hors de la zone web pour assurer la securité de vos données):</p>

<input type="text" size="60" name="newimportdir" value="<?php echo $importdir; ?>">
</td></tr>
<tr><td>
<p>Chemin vers la commande unzip:</p>

<p>Lodel a besoin de la commande unzip pour dezipper les fichiers envoyés avec le ServOO. Vous pouvez ne pas changer cette valeur si vous ne souhaitez pas utiliser l'import par le ServOO.</p>

<input type="text" size="60" name="newunzipcmd" value="<?php echo $unzipcmd; ?>">

</td></tr>


</table>
<input type="submit" value="continuer">
</form>

<? include("tpl/install-closehtml.html"); ?>